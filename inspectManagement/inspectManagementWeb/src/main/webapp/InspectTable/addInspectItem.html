<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="lib/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
    <script src="lib/ligerUI/js/core/base.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/core/inject.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerForm.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerDateEditor.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerComboBox.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerCheckBox.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerButton.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerDialog.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerRadio.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerSpinner.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerTextBox.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerListBox.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function(){
            $("#isInput").ligerComboBox({
                data:[{"text":"否","id":"0"},{"text":"是","id":"1"}],
                valueField:'id',
                textField:'text',
                valueFieldID:'isInputSelect'
            })
            liger.get("isInput").setValue("0");
            $.post($.URL.inspectTable.getList,null,listCallBack,"json");
            function listCallBack(data){
                if(data.code==200){
                    var myData=[];
                    $.each(data.data,function(index,content){
                        var j={};
                        j["text"]=content.name;
                        j["id"]=content.id;
                        myData.push(j);
                    });
                    $("#inspectTableId").ligerComboBox({isShowCheckBox:true,isMultiSelect:true,
                        data:myData,
                        width:200,
                        valueField:'id',
                        textField:'text',
                        valueFieldID:'inspectTableIdSelect'
                    })
                }
            }
            $.post($.URL.inspectChoice.getList,null,choiceListCallBack,"json");
            function choiceListCallBack(data){
                if(data.code==200){
                    var myData=[];
                    $.each(data.data,function(index,content){
                        var j={};
                        j["text"]=content.choiceValue;
                        j["id"]=content.id;
                        myData.push(j);
                    });
                    $("#inspectChoiceId").ligerListBox({isShowCheckBox:true,isMultiSelect:true,
                        data:myData,
                        width:120,
                        valueField:'id',
                        textField:'text',
                        valueFieldID:'inspectChoiceIdSelect'
                    });
                    liger.get("inspectChoiceId").setValue("1;2;3");
                }
            }
            $("#submitBtn").ligerButton({});
            $("#submitBtn").click(function(){
                var data={};
                data.name=$("#name").val();
                data.description=$("#description").val();
                data.inspectTableId=$("#inspectTableIdSelect").val();
                data.inspectAreaId=$("#area").val() ;
                data.number=$("#number").val();
                data.isInput=$("#isInputSelect").val();
                data.inspectChoiceId=$("#inspectChoiceIdSelect").val();
                $.post($.URL.inspectItem.add,data,addCallBack,"json")
            })
            function addCallBack(data){
                if(data.code==200){
                    $.ligerDialog.success("修改成功");
                }
                else{
                    $.ligerDialog.error("操作失败");
                }
            }
        })
    </script>
    <style type="text/css">
        .l-div {height: 30px}
        .l-span-edit { margin-left: 10px;  width: 70px;}
        .l-edit{width: 60px; margin-left: 12px;}
        .l-span-edit-com{margin-left: 10px;  width: 70px;float: left;}
        .l-edit-com{width: 60px; margin-left: 10px; float: left;}

    </style>
</head>

<body style="padding:10px">
    <div></div>
    <div class="l-div">
        <span class="l-span-edit-com">所属点检表:</span>
            <span class="l-edit-com">
                <input name="inspectTableId"  type="text" id="inspectTableId" />
            </span>
    </div>
   <div class="l-div">
        <span class="l-span-edit-com">所属区域 ：</span>
            <span class="l-edit-com">
                <input name="area" type="text" id="area" />
            </span>
    </div>
      <div class="l-div">
         <span class="l-span-edit">点检项名称:</span>
             <span class="l-edit">
                 <input name="name" type="text" id="name" />
             </span>
     </div>
     <div class="l-div">
         <span class="l-span-edit">点检项编号:</span>
             <span class="l-edit">
                 <input name="number" type="text" id="number" />
             </span>
     </div>
     <div class="l-div">
         <span class="l-span-edit-com">是否输入 ：</span>
             <span class="l-edit-com">
                 <input name="isInput" type="text" id="isInput" />
             </span>
     </div>
     <div class="l-div">
         <span class="l-span-edit-com">点检选值 ：</span>
         <span id="inspectChoiceId" class="l-edit-com"></span>
     </div>
    <br/><br/><br/><br/><br/>
    <div class="l-div">
        <span class="l-span-edit-com">描    述 ：</span>
            <span class="l-edit-com">
                <textarea   id="description"  />
            </span>
    </div>
    <br/>
    <div style="margin-top: 20px">
        <input id="submitBtn" value="提交"/>
    </div>
    <div style="display:none">
        <!--  数据统计代码 --></div>
</body>
</html>