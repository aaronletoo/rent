<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="lib/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="css/main.css"/>
    <script src="lib/json2.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerDialog.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerTextBox.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerCheckBox.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerComboBox.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerGrid.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerDateEditor.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerSpinner.js" type="text/javascript"></script>
    <script src="lib/ligerUI/js/plugins/ligerButton.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/highcharts.js"></script>
    <script type="text/javascript" src="js/chartTool.js"></script>
    <script type="text/javascript">
        var num= currentMonitor.number;
        var tempURL = $.URL.sensors.getSensorDataArray;
        var myURL = tempURL + num.toString();
        checkRefresh=1;
//        alert(myURL);
        $(document).ready(function () {
            $("#number").html(currentMonitor.number);
            $("#group").html(currentMonitor.groupName);
            alert(currentMonitor.status);
            if(currentMonitor.status=="暂无数据")  {
                alert("if");
                drawChart("#waveContainer", data1, "mV");
            }
            else{
                alert("on");
                refrash();}
        });
        function refresh(){
//            $.post($.URL.sensor.getMongoDataLastListByNumber,{"num":num},sensorListCallback1,"json");
            if(checkRefresh){
            $.get(myURL+".htm",null,sensorListCallback,"jsonp") ; }
//            $.ajax({
//                url: myURL+".htm",
//                async:false,
//                dataType:'jsonp',
//                jsonpCallback:'callback',
//                success: function meanVarianceCallback(result) {
//                    h = result["curWarnValue"].toString();
//                    count = result["warnCount"].toString();
//                }
//            });
        }
        var data1,data2;
        function sensorListCallback(result){
//            alert( result.data);
       data1 = result.data;
//            alert(data1);
            drawChart("#waveContainer", data1, "mV");

//        function callback(data){
//            if(data.code==200){
//                alert(data);
//                data1=data.data.data;
//                //data2=data.data.time;
//                drawChart("#waveContainer", data1, "mV");
//            }
            var refreshTime=$("#mySelect").val();
            setTimeout(refresh,refreshTime*1000);
        }
    </script>

    <style type="text/css">
        .l-div {
            height: 30px;
            margin-top: 10px
        }

        .l-span-edit-com {
            margin-left: 10px;
            width: 70px;
            float: left;
            margin-top: 2px
        }

        .l-edit-com {
            width: 60px;
            margin-left: 10px;
            float: left;
        }

        #monitorContainer .lableTD {
            text-align: right;
            font-size: 15px;
            padding: 5px;
        }

        #monitorContainer .valueTD {
            text-align: right;
            font-size: 15px;
            padding: 5px;
            background-color: dodgerblue;
        }

        #monitorContainer{
            margin-top: 5px;
        }
    </style>
</head>
<body>
<div id="realDataContainer">
    <div id="monitorContainer">
        <table>
            <tr>
                <td><div class="lableTD">传感器编号:</div></td>
                <td id="number" class="valueTD"></td>
                <td><div class="lableTD">监测组:</div></td>
                <td id="" class="valueTD"></td>
                <td><div class="lableTD">刷新时间：</div></td>
                <td>
                    <select id="mySelect">
                        <option value="2">2秒</option>
                        <option value="5">5秒</option>
                        <option value="10">10秒</option>
                    </select>
                </td>
            </tr>
        </table>
    </div>
    <div id="waveContainer" style="min-width:700px;height:400px"></div>
</div>
<br/>
</body>
</html>